<!DOCTYPE html>
<html>
<title>Controle de Consumi Energético - Sensor SCT-013 e Android</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
<style>
body, html {
    height: 100%;
    font-family: "Inconsolata", sans-serif;
}
.bgimg {
    background-position: center;
    background-size: cover;
    background-image: url("https://raw.githubusercontent.com/costabatista/webservice-computacao-fisica/gh-pages/images/ArduinoDue.JPG");
    min-height: 75%;
}
.menu {
    display: none;
}
</style>
<body>

<!-- Links (sit on top) -->
<div class="w3-top">
  <div class="w3-row w3-padding w3-black">
    <div class="w3-col s3">
        <a href="#" class="w3-button w3-block w3-red"><b>Inicio</b></a>
    </div>
    <div class="w3-col s3">
        <a href="#about" class="w3-button w3-block w3-red"><b>O Projeto</b></a>
    </div>
    <div class="w3-col s3">
        <a href="#menu" class="w3-button w3-block w3-red"><b>How to</b></a>
    </div>
    <div class="w3-col s3">
        <a href="#where" class="w3-button w3-block w3-red"><b>O Projeto</b></a>
    </div>
  
  </div>
    
</div>

<!-- Header with image -->
<header class="bgimg w3-display-container w3-grayscale-min" id="home">
  <div class="w3-display-bottomleft w3-center w3-padding-large w3-hide-small">
      <span class="w3-tag"><b>Paulo Batista</b></span>
  </div>
  <div class="w3-display-middle w3-center ">
    <span class="w3-text-white w3-black " style="font-size:90px">Computação<br>Física</span>
  </div>
  <div class="w3-display-bottomright w3-center w3-padding-large">
      <span class="w3-text-white w3-black"><b>UTFPR-CM</b></span>
  </div>
</header>

<!-- Add a background color and large text to the whole page -->
<div class="w3-sand w3-grayscale w3-large">

<!-- About Container -->
<div class="w3-container" id="about">
  <div class="w3-content " style="max-width:700px">
      <h5 class="w3-center"><span class="w3-tag w3-wide"><b><font size="24">Sistema Computacional Integrado de Monitoramento do consumo de Energia Elétrica</font></b></span></h5>
      <h6><b># O que será apresentado?</b></h6>
    <p>Este projeto tem por finalidade apresentar um sistema de monitoramento de consumo energético. 
        Sua arquitetura é subdividida em 3 subsistemas, sendo eles:</p>
    <ol>
        <li>Sistema de sensoriamento de corrente elétrica com <b>Arduino</b> e <b>SCT-013</b></li>
        <li>Sistema <b>WebService</b></li>
        <li>Aplicativo móvel <b>Android</b></li>
    </ol>
    
    <p style=text-align:justify>Este projeto é derivado do projeto anterior da disciplina de computação física. Em sua primeira versão, ele captava a corrente consumida e mostrava 
    sua totalidade em um display lcd. Nessa versão, houve o descarte do uso desse display e 
    foi introduzido o uso de comunicação entre arduino e um sistema computacional, 
    o qual visa promover a disponibilização das informações de consumo de energia de uma forma mais organizada e dinâmica.
    </p>
    <h6><b># Motivação?</b></h6>
    <div class="w3-panel w3-leftbar w3-light-grey w3-justify">
      <p><i>Atualmente, é notável o crescimento dos valores médios presentes nas faturas de energia elétrica do povo brasileiro.
        Dessa forma, nada mais justo do que sabermos o verdadeiro custo financeiro do nosso consumo diário de energia elétrica em 
      detrimento daquilo que temos de pagar.</i></p>
      
    </div>
    <img src="https://raw.githubusercontent.com/costabatista/webservice-computacao-fisica/gh-pages/images/fatura.jpg" style="width:100%;max-width:1000px" class="w3-margin-top w3-margin-bottom w3-margin-right w3-margin-left">
  </div>
</div>

<!-- Menu Container -->
<div class="w3-container" id="menu">
  <div class="w3-content" style="max-width:700px">
 
    <h6 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">Construindo o Hardware</span></h5>
  </div>
  
  <div class="w3-container">
    <div class="w3-content" style="max-width:700px">
      <div class="w3-justify">
          <p>
              A partir daqui, veremos os componentes necessários para montar o hardware
              que terá como funcionalidade a capitação da corrente consumida em tempo real. Portanto,
              vamos à lista de materiais necessários.
          </p>
          <ol>
            <li>2 Resistores de 10K</li>
            <li>1 Capacitor de 100 mF </li>
            <li>1 Arduino Uno</li>
            <li>1 Cabo USB</li>
            <li>1 Protoboard</li>
            <li>1 Medidor de corrente não invasivo SCT-013</li>
          </ol>

          <img src="https://raw.githubusercontent.com/costabatista/webservice-computacao-fisica/gh-pages/images/Circuito_Arduino_Sensor_Corrente_SCT013.png" style="width:100%;max-width:1000px" class="w3-margin-top w3-animate-bottom w3-margin-left w3-animate-right">
          <p><b># Passo a passo: Montagem de hardware</b></p>
          <p>
          Montar o hardware nesse caso é um processo simples. A imagem logo acima, mostra como o projeto se configurava
          anteriormente (na primeira versão deste projeto). Considerando o exposto, desconsideraremos as ligações das fiações
          que são referentes ao display de LCD, uma vez que ele foi removido.Desse modo, faremos as demais ligações. 
        </p>
        <p>
          <ol>
            <li>Primeiro, ligue em os resistores e os capacitores na Protoboard.</li>
            <li> Em seguida, faça as ligações de positivo e negativo. Para isso, conecte os lados positivo e negativo nas
                respectivas trilhas da Protoboard. </li>
            <li> A trilha positiva da Protoboard receberá uma ligação de <b>5V</b> que 
              parte do <b>Arduino</b>.</li>
            <li>Por sua vez, a trilha negativa da Protoboard será conectada ao <b>GND</b> do 
              <b>Arduino</b>.</li>
            <li>
              A partir disso, será realizada a ligação do <b>sensor não invasivo de corrente SCT-013</b> 
              com o arduino e a Protoboard. Para isso, conecte o fio vermelho na ligação de energia (positiva) que parte dos resistores (conforme)
              a figura. Em seguida, conecte o fio preto do sensor com a porta analógica A1.
          
            </li>
          </ol>
        </p>
        <p>
          A partir disso, a parte de hardware está tecnicamente pronta. È necessário colocar a sketch do arduino. Para isso,
          deixo disponível o projeto utilizado para sensoriar a corrente. Ele está em <a href="https://github.com/costabatista/computacao-fisica-projetos" target="_blank">github</a>.
          Esse é o mesmo repositório que contém o projeto necessário para realizar a próxima etapa que é a ligação entre sistema de captação de corrente e 
          sistema computacional. Por enquanto, a sketch se encontra nesse repositório dentro desta <a href="https://github.com/costabatista/computacao-fisica-projetos/tree/master/medidor-de-consumo-de-energia-domestica" target="_blank">pasta</a>.
          Depois de colocar o sketch no arduino, podemos ir para a próxima etapa.
        </p>
        <p><b># Ligação entre sistema de sensoriamento de corrente elétrica e sistema computacional</b></p>
        <p>
        Agora, realizaremos a ligação entre a parte do sistema que capta a corrente consumida e o sistema
        computacional. Este tem por finalidade armazenar a quantidade de corrente consumida (em tempo real)
        em uma tabela de banco de dados. Esse dado será consumido por um WebService.</p>
        <p>
          Enfim, antes de tudo você precisa realizar a conexão entre os dados que são enviados para a porta serial
          do arduino para o computador (USB). Para isso, será necessário instalar e configurar corretamente o <b>RXTX</b> em sua máquina.
          Considerando que o projeto foi inteiramente desenvolvido no Ubuntu, disponibilizo aqui um excelente tutorial para a realização desta 
          etapa. Segue o link <a href="https://docs.google.com/document/d/e/2PACX-1vQSTA9ZHnrKgeJIDlze04O_JAbpYKKXLcbh5tQu3UCxhoALRafSE8F3VKDWZuFU6UO_Qv5mNnOC7ncX/pub" target="_blank">aqui</a>.
        </p>
        <p>
          Em seguida, você poderá estabelecer a comunicação entre o arduino e o computador. Para fazer a gravação da corrente consumida numa tabela de um banco de dados, 
          criei o projeto encontrado naquele repositório o qual citei préviamente. O projeto foi desenvolvido no Netbeans, aconselho o uso dessa IDE. Então, ele se encontra nessa <a href="https://github.com/costabatista/computacao-fisica-projetos/tree/master/LeitorDeCorrente" target="_blank">pasta</a>
          Esse projeto tem apenas duas finalidades:
          <ul>
            <li>Conexão e obtenção da corrente elétrica consumida</li>
            <li>Armazenamento dos dados em Banco de dados</li>
          </ul>
          <b>Observação: O SGBD utilizado foi o MySQL, por meio de anotações JPA.</b>
        </p>
        <p><b># Criação de WebService para consumo dos dados</b></p>
        <p>Como o objetivo desse sistema é a utilização dos dados de corrente para um aplitivo móvel, é necessário
          que se tenha um WebService responsável por consumir os dados de corrente que são armazenados. Eu criei um
          WebService Restfull com glassfish com o Netbeans. Da mesma forma, aqui utilizei a combinação <b>JPA + Glassfish + EclipseLink</b>.
          Para fins de apresentação, deixo disponível o projeto desenvolvido para essa finalidade <a href="https://github.com/costabatista/webservice-computacao-fisica" target="_blank">aqui</a> 
        </p>
        <p><b># Criação de Aplicativo Android para controle de energia</b></p>
        <p>
          Depois de todo o processo de comunicação realizado, chegou a parte principal mais interessante do projeto. A criação do aplicativo.
          Tomei a decisão de criar com o framework React-Native. Esse aplicativo obtém os dados da corrente elétrica por meio
          do webservice. Assim, com ele é possível elaborar os cálculos de energia elétrica consumida. O projeto Android React Native que foi criado se encontra <a href="https://github.com/costabatista/energia-controle" target="_blank">aqui</a>.
        </p>
      </div>
      
    </div>
  </div>
  </div>
</div>


<!-- End page content -->
</div>

<!-- Footer -->
<footer class="w3-center w3-light-grey w3-padding-48 w3-large">
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>



</body>

</html>
